define("page/report/sale",function(a,e,l){a("common"),a("jquery"),a("jquery.dataTables.min");var t=a("echarts"),o=a("LCalendar.min"),r=a("newlineEcharts");$(function(){function a(a,e){return parseInt(Math.random()*(e-a+1)+a)}var e=document.querySelector("#chartBtn"),l=(document.querySelector("#selectDay"),document.querySelector("#selectWeek"),document.querySelector("#selectMonth"),new o),n={trigger:"#date",type:"date",maxDate:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()};l.init(n);var s=new o,u={trigger:"#ym",type:"ym",maxDate:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)};s.init(u),$("#selectDay").on("touchstart",function(){$("#date").addClass("active"),$("#ym").removeClass("active"),$(this).addClass("active").siblings().removeClass("active")}),$("#selectWeek").on("touchstart",function(){$("#date").addClass("active"),$("#ym").removeClass("active"),$(this).addClass("active").siblings().removeClass("active")}),$("#selectMonth").on("touchstart",function(){$("#date").removeClass("active"),$("#ym").addClass("active"),$(this).addClass("active").siblings().removeClass("active")}),$("input").on("focus",function(a){a.preventDefault()}),$("input").on("input",function(a){a.preventDefault()}),e.addEventListener("touchstart",function(){console.log(111)},!1);for(var m={data:[{shopName:"店一煞的家伙杀毒",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店二煞的家伙杀毒",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店C",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店D",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店E",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店F",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店G",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店H",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店I",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店J",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店K",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店L",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店M",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店N",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店O",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店P",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店Q",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店R",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店S",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0},{shopName:"店T",saleVal:0,pureVal:0,numVal:0,customVal:0,purePerVal:0}]},V=m.data.length;V--;)m.data[V].saleVal=a(1,50),m.data[V].pureVal=a(1,50),m.data[V].numVal=a(1,50),m.data[V].customVal=a(1,50),m.data[V].purePerVal=a(1,100);for(var i={head:[],saleVal:[],pureVal:[],numVal:[],customVal:[],purePerVal:[]},V=m.data.length;V--;)i.head[V]=m.data[V].shopName,i.saleVal[V]=m.data[V].saleVal,i.pureVal[V]=m.data[V].pureVal,i.numVal[V]=m.data[V].numVal,i.customVal[V]=m.data[V].customVal,i.purePerVal[V]=m.data[V].purePerVal;var p=t.init(document.getElementById("chart")),c={animation:!1,title:{text:""},grid:{top:60,height:"74%"},tooltip:{trigger:"axis"},legend:{data:["销量","毛利","数量","客单数","毛利率"],top:20},xAxis:{data:i.head,splitLine:{show:!0},boundaryGap:!1,axisLabel:{}},yAxis:{},backgroundColor:"#fff",dataZoom:{type:"slider",startValue:0,endValue:5,bottom:10},series:[{name:"销量",type:"line",data:i.saleVal,symbolSize:5,lineStyle:{normal:{width:1}},label:{normal:{show:!0,textStyle:{},position:"right"}}},{name:"毛利",type:"line",data:i.pureVal,symbolSize:5,lineStyle:{normal:{width:1}},label:{normal:{show:!0,textStyle:{},position:"right"}}},{name:"数量",type:"line",data:i.numVal,symbolSize:5,lineStyle:{normal:{width:1}},label:{normal:{show:!0,textStyle:{},position:"right"}}},{name:"客单数",type:"line",data:i.customVal,symbolSize:5,lineStyle:{normal:{width:1}},label:{normal:{show:!0,textStyle:{},position:"right"}}},{name:"毛利率",type:"line",data:i.purePerVal,symbolSize:5,lineStyle:{normal:{width:1}},label:{normal:{show:!0,textStyle:{},position:"right"}}}],color:["#c23531","#2F4554","#37ce87","#E17731","#8514BA"]};r(c,4,"xAxis"),p.setOption(c);var d={autoWidth:!1,paging:!0,language:{search:"",info:"共_TOTAL_ 条信息",lengthMenu:"_MENU_",infoFiltered:"",infoEmpty:"没有匹配的数据信息",emptyTable:"没有相关数据",zeroRecords:"没有相关数据信息"},stripeClasses:[,"gray"],dom:'<"body"rt><"pagination"l><"teller"i><"info"f>',data:m.data,columns:[{data:"shopName",className:"dataTable__normal-cell",width:"70px"},{data:"saleVal",className:"dataTable__normal-cell",width:"30px"},{data:"pureVal",className:"dataTable__normal-cell",width:"30px"},{data:"numVal",className:"dataTable__normal-cell",width:"30px"},{data:"customVal",className:"dataTable__normal-cell",width:"30px"},{data:"purePerVal",className:"dataTable__normal-cell",width:"40px"}],footerCallback:function(a,e,l,t,o){var r=this.api();0!=r.column(1).data().length&&($(r.column(1).footer()).html(r.column(1).data().reduce(function(a,e){return a+e},0)),$(r.column(2).footer()).html(r.column(2).data().reduce(function(a,e){return a+e},0)),$(r.column(3).footer()).html(r.column(3).data().reduce(function(a,e){return a+e},0)),$(r.column(4).footer()).html(r.column(4).data().reduce(function(a,e){return a+e},0)))}},h=($("#dataTable").dataTable(d),!1);$("#foldBtnImg").on("touchstart",function(){h?($("#foldBtn span").html("折叠表格"),$("#foldBtnImg").attr("src","/static/img/ico/go_down.png"),$("#sheetWrap").slideDown()):($("#foldBtn span").html("展开表格"),$("#foldBtnImg").attr("src","/static/img/ico/go_up.png"),$("#sheetWrap").slideUp()),h=!h})})});