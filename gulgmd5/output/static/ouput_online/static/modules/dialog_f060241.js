define("dialog",function(i,o,t){var e=jQuery=i("jquery"),s=function(i){var o={id:"",close_btn:"",position:"middle",style:"",ani_show:!1,cover_hide:!1,close_callback:!1};o=e.extend(o,i);var t,s,a=e(i.id);this.init=function(){var i=this;e("#cover").size()>0?t=e("#cover"):(t=e("<div></div>").attr("id","cover").css({position:"fixed",width:"100%",opacity:.5,background:"black",top:0,bottom:0,left:0,display:"none","z-index":999}),t.appendTo(e("body")),t.data("elems",[]),t.bind("click",function(i){var o=t.data("elems");for(var e in o)o[e].isVisible&&(o[e].diallogObj.hide(),i.stopPropagation())}));var d=t.data("elems");if(o.cover_hide&&d.push({id:o.id,diallogObj:i,isVisible:!1}),a.hide().css({position:"fixed","max-height":window.innerHeight-20,"overflow-y":"auto",display:"block",visibility:"hidden",opacity:0,"z-index":1e3,"box-sizing":"border-box"}).unbind("click").bind("click",function(i){i.stopPropagation()}),o.ani_show&&a.css({"transition-property":"opacity, top, bottom","transition-duration":".1s"}),o.style&&a.css(o.style),o.close_btn){var n=o.close_btn.split("|");for(var c in n)e(n[c]).bind("click",i.hide)}if(!o.close_btn&&!o.cover_hide){var l=e("#dialog_close_btn");l.size()<1&&(l=e("<div>&Chi;</div>").attr("id","dialog_close_btn").css({"float":"right",color:"#161615","font-size":".5em",background:"#FFF","border-radius":"15px",width:"30px",height:"30px","text-align":"center","line-height":"30px",margin:"10px 10px 0px 0px",overflow:"hidden"}),l.appendTo(t)),l.bind("click",function(){i.hide()})}e(window).bind("resize",function(){clearTimeout(s),s=setTimeout(function(){"top"!=o.position&&"bottom"!=o.position&&a.css({bottom:(window.innerHeight-e(a).outerHeight())/2})},300)})},this.hide=function(){t.hide(),a.css(a.data("hide-css"));var i=t.data("elems");for(var e in i)i[e].id===o.id&&(i[e].isVisible=!1);o.close_callback&&o.close_callback()},this.show=function(){switch(o.position){case"top":a.css({top:"-100%"}).data("hide-css",{top:"-100%",opacity:0,visibility:"hidden"}).data("show-css",{top:0,opacity:1,visibility:"visible"});break;case"bottom":a.css({bottom:"-100%"}).data("hide-css",{bottom:"-100%",opacity:0,visibility:"hidden"}).data("show-css",{bottom:0,opacity:1,visibility:"visible"});break;case"middle":default:a.css({bottom:(window.innerHeight-e(a).outerHeight())/2}).data("hide-css",{opacity:0,visibility:"hidden"}).data("show-css",{opacity:1,visibility:"visible"})}t.show(),e(window).resize(),a.css(a.data("show-css"));var i=t.data("elems");for(var s in i)i[s].id===o.id&&(i[s].isVisible=!0)},this.init()};"object"==typeof t&&"object"==typeof t.exports&&(t.exports=s)});